[tox]
envlist = flake8,py27,py34

[testenv]
deps=pytest
  pytest-cov
commands=py.test --cov {envsitepackagesdir}/bajoo {posargs}

[testenv:py27]
# Note(Kevin): Tox.ini can't install the Classic version of wxPython because it
# is not present in PyPI. We expect the caller to have installed it from the
# official package (distribution-specific package, or Windows installer)
sitepackages = True
whitelist_externals = py.test
# Force install in virtualenv even if the package is installed at system level.
install_command = pip install -I {opts} {packages}

[testenv:py34]
install_command = pip install --process-dependency-links --allow-unverified wxpython --trusted-host wxpython.org {opts} {packages}

[testenv:flake8]
commands = flake8
deps = flake8
skip_install = true
